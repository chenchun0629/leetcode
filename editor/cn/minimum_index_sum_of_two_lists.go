package main

import "fmt"

func main() {
	//fmt.Println(findRestaurant([]string{"Shogun","Tapioca Express","Burger King","KFC"}, []string{"Piatti","The Grill at Torrey Pines","Hungry Hunter Steakhouse","Shogun"}))
	fmt.Println(findRestaurant([]string{"KFC"}, []string{"KFC"}))
}

//å‡è®¾Andyå’ŒDorisæƒ³åœ¨æ™šé¤æ—¶é€‰æ‹©ä¸€å®¶é¤å…ï¼Œå¹¶ä¸”ä»–ä»¬éƒ½æœ‰ä¸€ä¸ªè¡¨ç¤ºæœ€å–œçˆ±é¤å…çš„åˆ—è¡¨ï¼Œæ¯ä¸ªé¤å…çš„åå­—ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºã€‚
//
// ä½ éœ€è¦å¸®åŠ©ä»–ä»¬ç”¨æœ€å°‘çš„ç´¢å¼•å’Œæ‰¾å‡ºä»–ä»¬å…±åŒå–œçˆ±çš„é¤å…ã€‚ å¦‚æœç­”æ¡ˆä¸æ­¢ä¸€ä¸ªï¼Œåˆ™è¾“å‡ºæ‰€æœ‰ç­”æ¡ˆå¹¶ä¸”ä¸è€ƒè™‘é¡ºåºã€‚ ä½ å¯ä»¥å‡è®¾æ€»æ˜¯å­˜åœ¨ä¸€ä¸ªç­”æ¡ˆã€‚
//
// ç¤ºä¾‹ 1:
//
// è¾“å…¥:
//["Shogun", "Tapioca Express", "Burger King", "KFC"]
//["Piatti", "The Grill at Torrey Pines", "Hungry Hunter Steakhouse", "Shogun"]
//è¾“å‡º: ["Shogun"]
//è§£é‡Š: ä»–ä»¬å”¯ä¸€å…±åŒå–œçˆ±çš„é¤å…æ˜¯â€œShogunâ€ã€‚
//
//
// ç¤ºä¾‹ 2:
//
// è¾“å…¥:
//["Shogun", "Tapioca Express", "Burger King", "KFC"]
//["KFC", "Shogun", "Burger King"]
//è¾“å‡º: ["Shogun"]
//è§£é‡Š: ä»–ä»¬å…±åŒå–œçˆ±ä¸”å…·æœ‰æœ€å°ç´¢å¼•å’Œçš„é¤å…æ˜¯â€œShogunâ€ï¼Œå®ƒæœ‰æœ€å°çš„ç´¢å¼•å’Œ1(0+1)ã€‚
//
//
// æç¤º:
//
//
// ä¸¤ä¸ªåˆ—è¡¨çš„é•¿åº¦èŒƒå›´éƒ½åœ¨ [1, 1000]å†…ã€‚
// ä¸¤ä¸ªåˆ—è¡¨ä¸­çš„å­—ç¬¦ä¸²çš„é•¿åº¦å°†åœ¨[1ï¼Œ30]çš„èŒƒå›´å†…ã€‚
// ä¸‹æ ‡ä»0å¼€å§‹ï¼Œåˆ°åˆ—è¡¨çš„é•¿åº¦å‡1ã€‚
// ä¸¤ä¸ªåˆ—è¡¨éƒ½æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚
//
// Related Topics æ•°ç»„ å“ˆå¸Œè¡¨ å­—ç¬¦ä¸² ğŸ‘ 131 ğŸ‘ 0

//leetcode submit region begin(Prohibit modification and deletion)
func findRestaurant(list1 []string, list2 []string) []string {
	var (
		n1  = len(list1)
		n2  = len(list2)
		m   = make(map[string]int)
		ret []string
		fn  = func(a []string, b []string) {
			for k, v := range a {
				m[v] = k
			}
			for k, v := range b {
				if _, has := m[v]; has {
					m[v] = n1 + n2 + k + m[v] + 2
				}
			}
		}
	)

	if n1 < n2 {
		fn(list1, list2)
	} else {
		fn(list2, list1)
	}

	var min = (n1 + n2) * 2
	for s, t := range m {
		if t < n1+n2 {
			continue
		}
		if t < min {
			ret = []string{s}
			min = t
		} else if t == min {
			ret = append(ret, s)
		}
	}

	return ret
}

//leetcode submit region end(Prohibit modification and deletion)
